
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>Panel</title>
<style>
/* CSS LOGIN FOURNI */
#loginScreen{
    display:flex;
    align-items:center;
    justify-content:center;
    min-height:100vh;
    padding:2rem;
  }
  .login-card{
    background:rgba(255,255,255,0.1);
    backdrop-filter:blur(20px);
    border-radius:24px;
    padding:3rem;
    border:1px solid rgba(255,255,255,0.2);
    text-align:center;
    max-width:480px;
    width:100%;
  }
  .login-header{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:1rem;
    margin-bottom:1.5rem;
  }
  .login-avatar{
    width:80px;
    height:80px;
    border-radius:50%;
    background:linear-gradient(135deg,var(--accent),#3b82f6);
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:2.5rem;
  }
  .login-card h1{
    font-size:2rem;
    margin-bottom:0.5rem;
    color:#000;
    font-weight:700;
  }
  .login-card .subtitle{
    color:#000;
    margin-bottom:2rem;
    font-size:1rem;
    opacity:0.9;
  }
  .permissions-box{
    background:rgba(0,0,0,0.2);
    border-radius:12px;
    padding:1.5rem;
    margin-bottom:2rem;
    text-align:left;
  }
  .permissions-box h3{
    color:#000;
    font-size:0.9rem;
    margin-bottom:1rem;
    font-weight:600;
  }
  .permission-item{
    display:flex;
    align-items:center;
    gap:0.75rem;
    margin-bottom:0.75rem;
    color:#000;
    font-size:0.875rem;
  }
  .permission-item:last-child{
    margin-bottom:0;
  }
  .permission-check{
    width:20px;
    height:20px;
    background:rgba(124,58,237,0.3);
    border-radius:50%;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-shrink:0;
  }
  .discord-btn{
    display:flex;
    align-items:center;
    justify-content:center;
    gap:0.75rem;
    width:100%;
    padding:1rem 2rem;
    background:#5865F2;
    color:#fff;
    border:none;
    border-radius:8px;
    font-size:1.125rem;
    font-weight:600;
    cursor:pointer;
    transition:all 0.3s ease;
    margin-bottom:1rem;
  }
  .discord-btn:hover{
    background:#4752C4;
    transform:translateY(-2px);
    box-shadow:0 8px 25px rgba(88,101,242,0.4);
  }
  .skip-btn{
    background:transparent;
    color:#000;
    border:1px solid rgba(255,255,255,0.2);
    padding:0.75rem 2rem;
    border-radius:8px;
    font-size:0.95rem;
    cursor:pointer;
    transition:all 0.3s ease;
    width:100%;
  }
  .skip-btn:hover{
    background:rgba(255,255,255,0.05);
    border-color:rgba(255,255,255,0.3);
  }
  .login-footer{
    margin-top:1.5rem;
    font-size:0.75rem;
    color:#000;
    opacity:0.7;
  }

/* PANEL PLACEHOLDER */
#mainApp{
    display:none;
    padding:2rem;
    font-family:sans-serif;
    color:#000;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div id="loginScreen">
    <div class="login-card">

        <div class="login-header">
            <div class="login-avatar">üîê</div>
            <h1>Connexion requise</h1>
        </div>

        <p class="subtitle">
            Connectez-vous avec Discord pour acc√©der au panel.
        </p>

        <div class="permissions-box">
            <h3>Permissions demand√©es :</h3>

            <div class="permission-item">
                <div class="permission-check">‚úî</div>
                Voir votre pseudonyme Discord
            </div>

            <div class="permission-item">
                <div class="permission-check">‚úî</div>
                V√©rifier votre identit√©
            </div>

            <div class="permission-item">
                <div class="permission-check">‚úî</div>
                Acc√©der √† votre ID utilisateur
            </div>
        </div>

        <button id="discordLoginBtn" class="discord-btn">
            <img src="https://cdn.discordapp.com/attachments/1174432910157346857/1317616777473613834/discord-logo.png" 
                 alt="Discord" width="28">
            Continuer avec Discord
        </button>

        <button id="skipLoginBtn" class="skip-btn">
            Continuer sans se connecter
        </button>

        <div class="login-footer">
            Votre connexion est s√©curis√©e et chiffr√©e.
        </div>

    </div>
</div>

<!-- PANEL -->
<div id="mainApp">

    <div class="container">
      <header>
        <div style="display:flex;align-items:center;gap:1rem">
          <div style="font-size:2rem">ü§ñ</div>
          <div>
            <h1 style="margin:0;font-size:1.75rem;font-weight:700;color:#000">PDP Panel V1</h1>
            <p style="margin:0.25rem 0 0;color:#000;font-size:0.875rem">Panel d'administration du bot Discord</p>
          </div>
        </div>
        <div style="display:flex;align-items:center;gap:1.5rem">
          <div id="botStatusMini" style="display:flex;align-items:center;gap:0.5rem;padding:0.5rem 1rem;background:rgba(124,58,237,0.1);border-radius:8px;border:1px solid rgba(124,58,237,0.3)">
            <div class="pulse" style="width:8px;height:8px;background:#10b981;border-radius:50%"></div>
            <span style="color:#000;font-size:0.875rem">Bot: <span id="statusTextMini">En ligne</span></span>
          </div>
    </div>
  </header>

  <nav>
    <button class="nav-btn active" data-view="home">üè† Accueil</button>
    <button class="nav-btn" data-view="explanation">üìñ Explication</button>
    <button class="nav-btn" data-view="import">üì• Importer</button>
    <button class="nav-btn" data-view="dashboard">üìä Dashboard</button>
    <button class="nav-btn" data-view="logs">üìù Logs</button>
  </nav>

  <div id="homeView" class="view active">
    <div class="card">
      <h2 style="display:flex;align-items:center;gap:0.75rem;margin-bottom:2rem;color:#000">
        <span>üè†</span>
        Cat√©gories
      </h2>
      
      <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem">
        <div class="category-card" onclick="switchView('import')">
          <div class="category-icon">üì•</div>
          <h3>Importer</h3>
          <p>Scraper et importer des photos de profil Discord depuis un serveur</p>
          <div class="category-badge">Scraping</div>
        </div>

        <div class="category-card" onclick="switchView('dashboard')">
          <div class="category-icon">üìä</div>
          <h3>Dashboard</h3>
          <p>Consulter les statistiques et l'√©tat du syst√®me en temps r√©el</p>
          <div class="category-badge">Statistiques</div>
        </div>

        <div class="category-card" onclick="switchView('logs')">
          <div class="category-icon">üìù</div>
          <h3>Logs</h3>
          <p>Visualiser l'historique des op√©rations et les messages syst√®me</p>
          <div class="category-badge">Console</div>
        </div>

        <div class="category-card" onclick="switchView('explanation')">
          <div class="category-icon">üìñ</div>
          <h3>Explication</h3>
          <p>Guide d'utilisation et documentation du panel</p>
          <div class="category-badge">Aide</div>
        </div>
      </div>
    </div>
  </div>

  <div id="explanationView" class="view">
    <div class="card">
      <h2 style="display:flex;align-items:center;gap:0.75rem;color:#000">
        <span>üìñ</span>
        Comment √ßa marche ?
      </h2>
      
      <div style="display:flex;flex-direction:column;gap:2rem;margin-top:2rem">
        <div class="explanation-step">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>üì• Importer des photos</h3>
            <p>Rendez-vous dans la section <strong>Importer</strong> pour scraper les photos de profil d'un serveur Discord.</p>
            <ul>
              <li>Entrez l'ID du serveur Discord</li>
              <li>Cliquez sur "D√©marrer l'import"</li>
              <li>Le bot va scraper automatiquement toutes les photos de profil des membres</li>
            </ul>
          </div>
        </div>

        <div class="explanation-step">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>üìä Suivre la progression</h3>
            <p>Consultez le <strong>Dashboard</strong> pour voir les statistiques en temps r√©el :</p>
            <ul>
              <li>Nombre total de photos scrap√©es</li>
              <li>Nombre de serveurs analys√©s</li>
              <li>Derni√®re activit√©</li>
              <li>Statut du bot</li>
            </ul>
          </div>
        </div>

        <div class="explanation-step">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>üìù Consulter les logs</h3>
            <p>La section <strong>Logs</strong> vous permet de :</p>
            <ul>
              <li>Voir l'historique de toutes les op√©rations</li>
              <li>D√©tecter les erreurs √©ventuelles</li>
              <li>Suivre l'activit√© du bot en temps r√©el</li>
            </ul>
          </div>
        </div>

        <div style="padding:1.5rem;background:linear-gradient(135deg,rgba(59,130,246,0.1),rgba(124,58,237,0.1));border-radius:12px;border:1px solid rgba(59,130,246,0.3)">
          <h3 style="margin:0 0 1rem;display:flex;align-items:center;gap:0.5rem;color:#000">
            <span>üí°</span>
            Conseils d'utilisation
          </h3>
          <ul style="margin:0;padding-left:1.5rem;color:#000">
            <li>Assurez-vous que le bot est en ligne avant de d√©marrer un import</li>
            <li>Un serveur Discord peut contenir des milliers de membres, l'import peut prendre du temps</li>
            <li>Les photos sont automatiquement sauvegard√©es dans la base de donn√©es</li>
            <li>Vous pouvez consulter les logs pour voir les d√©tails de chaque op√©ration</li>
          </ul>
        </div>
      </div>
    </div>
  </div>

  <div id="importView" class="view">
    <div class="card">
      <h2 style="display:flex;align-items:center;gap:0.75rem;color:#000">
        <span>üì•</span>
        Importer des Photos
      </h2>
      <form id="importForm" style="margin-top:2rem">
        <div class="form-group">
          <label>ID du Serveur Discord</label>
          <input type="text" id="guildId" placeholder="123456789012345678" required>
        </div>
        <div class="form-group">
          <label>Lien Pinterest (optionnel)</label>
          <input type="url" id="pinterestLink" placeholder="https://pinterest.com/...">
        </div>
        <div class="form-group">
          <label>Cat√©gorie</label>
          <select id="category" required>
            <option value="">S√©lectionner une cat√©gorie</option>
            <option value="boy">üë¶ Boy</option>
            <option value="girl">üëß Girl</option>
            <option value="banner">üé® Banner</option>
            <option value="pdp">üñºÔ∏è PDP</option>
            <option value="match">üíë Match</option>
          </select>
        </div>
        <div class="form-group">
          <label>Nombre de photos √† uploader : <span id="photoCountValue" class="range-value">500</span></label>
          <div class="range-container">
            <input type="range" id="photoCount" min="1" max="1000" value="500" oninput="document.getElementById('photoCountValue').textContent = this.value">
          </div>
        </div>
        <button type="submit">D√©marrer l'import</button>
      </form>
      <div id="importProgress" style="display:none;margin-top:2rem">
        <div style="background:rgba(124,58,237,0.2);border-radius:8px;height:8px;overflow:hidden">
          <div id="progressBar" style="background:linear-gradient(90deg,var(--accent),#3b82f6);height:100%;width:0%;transition:width 0.3s ease"></div>
        </div>
        <p id="progressText" style="margin-top:1rem;color:#000;text-align:center"></p>
      </div>
    </div>
  </div>

  <div id="dashboardView" class="view">
    <div class="card">
      <h2 style="display:flex;align-items:center;gap:0.75rem;color:#000">
        <span>üìä</span>
        Dashboard
      </h2>
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-value" id="totalPhotos">0</div>
          <div class="stat-label">Photos scrap√©es</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="totalServers">0</div>
          <div class="stat-label">Serveurs analys√©s</div>
        </div>
        <div class="stat-card">
          <div class="stat-value" id="lastActivity">Jamais</div>
          <div class="stat-label">Derni√®re activit√©</div>
        </div>
      </div>
    </div>
  </div>

  <div id="logsView" class="view">
    <div class="card">
      <h2 style="display:flex;align-items:center;gap:0.75rem;color:#000">
        <span>üìù</span>
        Logs Syst√®me
      </h2>
      <div class="log-container" id="logContainer"></div>
    </div>
  </div>
</div>

</div>

<script>
// JS LOGIN
const loginScreen = document.getElementById("loginScreen");
const mainApp = document.getElementById("mainApp");
const discordBtn = document.getElementById("discordLoginBtn");
const skipBtn = document.getElementById("skipLoginBtn");

mainApp.style.display = "none";

const isLogged = localStorage.getItem("isLogged");
if (isLogged === "true") {
    loginScreen.style.display = "none";
    mainApp.style.display = "block";
}

discordBtn.addEventListener("click", () => {
    localStorage.setItem("isLogged", "true");
    loginScreen.style.display = "none";
    mainApp.style.display = "block";
});

skipBtn.addEventListener("click", () => {
    localStorage.setItem("isLogged", "true");
    loginScreen.style.display = "none";
    mainApp.style.display = "block";
});

function logout() {
    localStorage.removeItem("isLogged");
    mainApp.style.display = "none";
    loginScreen.style.display = "flex";
}

// Hook login buttons (added by assistant)
const discordLoginBtn = document.getElementById('discordLoginBtn');
if (discordLoginBtn) {
  discordLoginBtn.addEventListener('click', () => {
    // redirect to Discord OAuth (use existing loginWithDiscord function)
    if (typeof loginWithDiscord === 'function') {
      loginWithDiscord();
    } else {
      // fallback: simulate login
      localStorage.setItem('isLogged', 'true');
      document.getElementById('loginScreen').style.display = 'none';
      document.getElementById('mainApp').style.display = 'block';
    }
  });
}
const skipLoginBtn = document.getElementById('skipLoginBtn');
if (skipLoginBtn) {
  skipLoginBtn.addEventListener('click', () => {
    localStorage.setItem('isLogged', 'true');
    document.getElementById('loginScreen').style.display = 'none';
    document.getElementById('mainApp').style.display = 'block';
  });
}
function logout() {
  localStorage.removeItem('isLogged');
  document.getElementById('mainApp').style.display = 'none';
  document.getElementById('loginScreen').style.display = 'flex';
}

</script>

</body>
</html>
